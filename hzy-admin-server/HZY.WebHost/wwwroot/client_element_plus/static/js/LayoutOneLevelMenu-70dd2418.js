import{_ as y}from"./AppIcon.vue_vue_type_script_setup_true_lang-c9a3da6d.js";import{d as C,t as U,e as f,v as c,p as x,q as J,s as K,r as z,o,c as a,u as l,n as B,f as _,F as m,i as h,j as r,a as v,w as R,l as M,x as w}from"./index-c165b22f.js";import{M as N,E as g}from"./MenuStore-b5af5a53.js";import{_ as P}from"./_plugin-vue_export-helper-c4cb8a60.js";const T=["onClick"],j={key:1,class:"hzy-one-nav"},E=["onClick"],F={class:"menu-item"},V={class:"ml-5"},$=C({__name:"LayoutOneLevelMenu",setup(b){const p=N(),s=U(),S=f(()=>c.currentRoute.value.fullPath),i=f(()=>s.getTopMenuIdByCurrentRoute()),u=x({selectedKey:S.value});J(()=>c.currentRoute.value,e=>{t.initTopMenu()});const t={initTopMenu(){if(i.value)u.selectedKey=i.value.toString(),t.onMenuSelected(i.value.toString());else if(s.state.oneLevels.length>0){var e=s.state.oneLevels[0];u.selectedKey=t.getJumpUrl(e),t.onMenuSelected(u.selectedKey)}},onMenuSelected(e){const d=s.getRouterByFullPath(e);d&&c.hasRoute(d.name)?c.currentRoute.value.fullPath.indexOf(e)<0&&c.push(e):(u.selectedKey=e,s.setSubmenu(e))},getJumpUrl(e){return e.jumpUrl?e.jumpUrl:e.componentName?e.componentName:e.id}};return K(()=>{s.createOneLevelMenu(),t.initTopMenu()}),(e,d)=>{const k=z("el-tooltip");return o(),a(m,null,[l(p).state.menuMode==l(g).left?(o(),a("div",{key:0,class:"hzy-left-nav",style:B({width:l(p).state.minWidth+"px"})},[_("ul",null,[(o(!0),a(m,null,h(l(s).state.oneLevels,n=>(o(),v(k,{content:n.name,placement:"right"},{default:R(()=>[(o(),a("li",{key:t.getJumpUrl(n),class:M({active:t.getJumpUrl(n)==u.selectedKey}),onClick:L=>t.onMenuSelected(t.getJumpUrl(n))},[n.icon?(o(),v(y,{key:0,name:n.icon,size:25},null,8,["name"])):r("",!0)],10,T))]),_:2},1032,["content"]))),256))])],4)):r("",!0),l(p).state.menuMode==l(g).top?(o(),a("ul",j,[(o(!0),a(m,null,h(l(s).state.oneLevels,n=>(o(),a("li",{key:t.getJumpUrl(n),class:M({active:t.getJumpUrl(n)==u.selectedKey}),onClick:L=>t.onMenuSelected(t.getJumpUrl(n))},[_("div",F,[n.icon?(o(),v(y,{key:0,name:n.icon,size:16},null,8,["name"])):r("",!0),_("div",V,w(n.name),1)])],10,E))),128))])):r("",!0)],64)}}});const W=P($,[["__scopeId","data-v-594a0773"]]);export{W as default};
